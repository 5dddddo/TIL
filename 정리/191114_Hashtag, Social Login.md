# Hashtag / Social Login

## 1. Hashtag

### 1.1 Model_

- ```
  unique=True
  ```

  - True인 경우, 필드는 테이블을 전체에서 고유한 값이어야 한다.
  - 유효성 검사 단계에서 실행되며, 중복 값이 있는 모델을 저장하려고 하면 `.save()` 메서드로 인해서 에러가 발생한다.

```
.split(')

2. .split() 메소드로 리스트 형식으로 변환
['오늘', '수능날이라고', '한다...', '하지만', .... '#행복', '#뿌듯', '#감성', ... '#행복', '#수능왕']

3. 리스트 반복문 돌리기 : 앞자리가 '#'으로 시작하는 단어를 해시태그 등록
- 같은 해시태그가 오면 unique=True 옵션으로 인해 에러 발생. 이를 방지하기 위해 get_or_create() 사용.

4. 동시에 해당 게시글 해시태그 목록에 추가해줌
-> article.hashtags.add(word)
```

- `get_or_create()`
  - word와 같은 해시태그를 찾고있으면 기존 객체 반환, 없으면 새로운 객체 생성
  - `hashtag, created = Hashtag.objects.get_or_create(content=word)`
    - 새로운 객체 생성되면 created=True
    - 기존 객체 반환되면 created=False

### 1.2 CREATE

#### 1.2.1 로직 설계하기

1. **사용자가 업로드한 content 확인**

   "오늘 수능날이라고 한다... 하지만 난 오늘도 신나는 마음으로 출근을 한다... #행복 그 자체다.. ㅎ.. 옛날 생각 나네 또.. #감성 #추억 #뿌듯 #행복 #수능왕"

2. **split으로 잘라서 리스트로 변환**

   ['오늘', '수능날이라고', '한다...', '하지만', .... '#행복', '#뿌듯', '#감성', ... '#행복', '#수능왕']

3. **리스트 반복문 돌려서 '#'으로 시작하는 경우 해시태그 등록**

   - `for word in article.content.split():`
   - 

4. **게시글에 담긴 해시태그 목록에 해시태그 추가**

   `add()`

### 1.4 UPDATE

### 1.5 Read

## 2. Social Login

> 인증, 계정, 등록 등을 다루는 여러가지 방법이 존재하는데, 우리는 **django-allauth라는 라이브러리를 사용해서 손쉽게 Social Login을 구현해보자.**
>
> 대부분의 소셜 로그인을 지원하고 회원가입 시킬 수 있다.

### 2.1 사전준비

### 2.2 Kakao Developers `OAuth` 등록